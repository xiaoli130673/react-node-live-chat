{"version":3,"sources":["pages/Chat/Chat.js","components/Input/Input.js","components/Messages/Message/Message.js","components/Messages/Messages.js","components/Users/Users.js","components/InfoBar/InfoBar.js","pages/Join/Join.js","App.js","index.js"],"names":["socket","Input","setMessage","sendMessage","message","className","type","placeholder","value","onChange","e","target","onKeyPress","key","onClick","style","fontSize","Message","text","user","isSentByCurrentUser","trimmedName","name","trim","toLowerCase","Messages","messages","map","Users","users","room","id","InfoBar","href","Chat","location","useState","setName","setRoom","setUsers","setMessages","history","useHistory","useEffect","queryString","parse","search","io","emit","error","alert","push","on","preventDefault","Join","event","to","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8efe4e64.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport queryString from 'query-string';\nimport io from 'socket.io-client';\n\nimport Input from '../../components/Input/Input';\nimport Messages from '../../components/Messages/Messages';\nimport Users from '../../components/Users/Users';\nimport InfoBar from '../../components/InfoBar/InfoBar';\n\nimport './Chat.css';\n\nconst ENDPOINT = '/';\n\nlet socket;\n\nconst Chat = ({ location }) => {\n  const [name, setName] = useState('');\n  const [room, setRoom] = useState('');\n  const [users, setUsers] = useState('');\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n\n  let history = useHistory();\n\n  useEffect(() => {\n    const { name, room } = queryString.parse(location.search);\n\n    socket = io(ENDPOINT);\n\n    setName(name);\n    setRoom(room);\n\n    socket.emit('join', { name, room }, (error) => {\n      if (error) {\n        alert(error);\n        history.push('/');\n      }\n    });\n  }, [location.search, history]);\n\n  useEffect(() => {\n    socket.on('message', (message) => {\n      setMessages([...messages, message]);\n    });\n\n    socket.on('roomData', ({ users }) => {\n      setUsers(users);\n    });\n  });\n\n  const sendMessage = (e) => {\n    e.preventDefault();\n\n    if (message) {\n      socket.emit('sendMessage', message, () => setMessage(''));\n    }\n  };\n\n  return (\n    <div className='outerContainer'>\n      <div className='container'>\n        <Users users={users} room={room} />\n        <div className='chatbox'>\n          <InfoBar name={name} />\n          <Messages messages={messages} name={name} />\n          <Input\n            message={message}\n            setMessage={setMessage}\n            sendMessage={sendMessage}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;\n","import React from 'react';\n\nimport './Input.css';\n\nconst Input = ({ setMessage, sendMessage, message }) => (\n  <form className='form'>\n    <input\n      className='input'\n      type='text'\n      placeholder='Type a message...'\n      value={message}\n      onChange={(e) => setMessage(e.target.value)}\n      onKeyPress={(e) => (e.key === 'Enter' ? sendMessage(e) : null)}\n    />\n    <button onClick={(e) => sendMessage(e)} className='sendMessage'>\n      <i className='fas fa-paper-plane' style={{ fontSize: '20px' }}></i>\n    </button>\n  </form>\n);\n\nexport default Input;\n","import React from 'react';\n\nimport './Message.css';\n\nconst Message = ({ message: { text, user }, name }) => {\n  let isSentByCurrentUser = false;\n\n  const trimmedName = name.trim().toLowerCase();\n\n  if (user === trimmedName) {\n    isSentByCurrentUser = true;\n  }\n\n  return isSentByCurrentUser ? (\n    <div className='messageContainer justifyEnd'>\n      <div className='messageUser pr-10'>{trimmedName}</div>\n      <div className='message outgoing'>{text}</div>\n    </div>\n  ) : (\n    <div className='messageContainer justifyStart'>\n      <div className='message incoming'>{text}</div>\n      <div className='messageUser pl-10 '>{user}</div>\n    </div>\n  );\n};\n\nexport default Message;\n","import React from 'react';\nimport ScrollToBottom from 'react-scroll-to-bottom';\nimport Message from './Message/Message';\n\nimport './Messages.css';\n\n\nconst Messages = ({messages, name}) => {\n    return (\n        <ScrollToBottom className='messages'>\n            {messages.map((message) => <Message message={message} name={name}/>)}\n        </ScrollToBottom>\n    )\n}\n\nexport default Messages\n","import React from 'react';\nimport './Users.css';\n\nconst Users = ({ users, room }) => {\n  return (\n    <div className='roomData'>\n      <div className='profile'>\n        <div className='avatar'>{room}</div>\n      </div>\n      <div className='title'>Active Users</div>\n      {users ? (\n        <div className='users'>\n          {users.map((user) => (\n            <div key={user.id} className='user'>\n              <p className='name'>{user.name}</p>\n            </div>\n          ))}\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default Users;\n","import React from 'react';\nimport './InfoBar.css';\n\nconst InfoBar = ({ name }) => (\n  <div className='infoBar'>\n    <div className='leftInnerContainer'>\n      <h3>{name}</h3>\n    </div>\n    <div className='rightInnerContainer'>\n      <a href='/'>\n        <i className='fas fa-times close'></i>\n      </a>\n    </div>\n  </div>\n);\n\nexport default InfoBar;\n","import React, { useState, Fragment } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './Join.css';\n\nconst Join = () => {\n  const [name, setName] = useState('');\n  const [room, setRoom] = useState('');\n\n  return (\n    <Fragment>\n      <div className='outerContainer'>\n        <div className='joinInnerContainer'>\n          <h1 className='heading'>Join</h1>\n          <div>\n            <input\n              placeholder='Name'\n              className='joinInput'\n              type='text'\n              onChange={(event) => setName(event.target.value)}\n            />\n          </div>\n          <div>\n            <input\n              placeholder='Room'\n              className='joinInput mt-20'\n              type='text'\n              onChange={(event) => setRoom(event.target.value)}\n            />\n          </div>\n          <Link\n            onClick={(e) => (!name || !room ? e.preventDefault() : null)}\n            to={`/chat?name=${name}&room=${room}`}\n          >\n            <button className={'join-button mt-20'} type='submit'>\n              Sign In\n            </button>\n          </Link>\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default Join;\n","import React from 'react';\n\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\nimport Chat from './pages/Chat/Chat';\nimport Join from './pages/Join/Join';\n\nconst App = () => {\n  return (\n    <Router>\n      <Route exact path='/' component={Join} />\n      <Route path='/chat' component={Chat} />\n    </Router>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}